<!DOCTYPE html>
<html>
    <head>
        <link href="https://fonts.googleapis.com/css?family=Work+Sans:400">
        <link rel="stylesheet" href="/style.css" crossorigin="anonymous"></linkrel>
        <link href="/_sidebar.scss" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
        <meta charset="UTF-8">
        <link rel="icon" href="/_img/Imgs/SimboloASAE_personalizado.jpeg.sb-e501c02c-7jNvGZ.png"> 
        <title>
            ASAE | Operações
        </title>

    </head>
    <body>
            <div class="lateral_menu" style="position: absolute; height: 130%;">
            <!--Identification of the user who is logged in the system-->
            <div class="identify">
                <img src="/_img/Imgs/1499345621-contact_85338.png" alt="">
                <a href="#" > <h3 style="margin-left: 30%;"> Username logado</h3></a>
                <br>
                <br>
                <br>
                <a href="" style="margin: 5%;"><button class="logoutRevervado" onclick="" style="border: 1px solid #fff; margin-left: 37%; margin-top: 5%;"> <span style="font-size: 12px; text-align: center;padding-left: 2px; "> LogOut </span></button></a> 
                
            </div>
    
            <!--Options - load new pages-->
            <div class="menuOptions" style="margin-top: 9%">
                
                <!--go to the page with the list of the request not awnser-->
                <div class="options">
                <i class="far fa-clock" style="margin-left: 15%; margin-top: 6%"></i> 
                <a href="/pedidospendentes" style="margin-top: 6%; margin-left: 25%; margin-bottom: 2.5%; color: greenyellow; font-size: 19px;"> Gestão de Operações</a>
                <br><br>
            </div>
            
                <div class="options">
                <i class="fas fa-network-wired" style="margin-left: 15%; margin-top: 10%"></i> 
                <a href="/registaroperacao" style="margin-top: 10%;margin-left: 25%; margin-bottom: 5%" > Gestão de Ocorrências</a>
                <br><br>
            </div> 
            <div class="options">
                <i class="fas fa-toggle-on" style="margin-left: 15%; margin-top: 10%"></i>
                <a href="/pedidospendentes" style="margin-top: 10%; margin-left: 25%; margin-bottom: 3%"> Gestão de Estados</a>
                <br><br>
            </div>
            <div class="options">
                <i class="far fa-address-card" style="margin-left: 15%;margin-top: 10%"></i>
                <a href="/entidades" style="margin-top: 10%;margin-left: 25%;  " > Entidades</a>
                <br><br>
            </div>
            <div class="options">
                <i class="fas fa-user-secret" style="margin-left: 15%; margin-top: 10%"></i>
                <a href="/denunciantes" style="margin-top: 10%;margin-left: 25%; " > Denunciantes</a>
                <br><br>
            </div>
            <div class="options">
                <i class="far fa-building" style="margin-left: 15%; margin-top: 10%"></i> 
                <a href="/colaboradores" style="margin-top: 10%;margin-left: 25%; "> Colaboradores</a>
                <br><br>
            </div>
            
            <div class="options">
                <i class="far fa-address-book" style="margin-left: 15%; margin-top: 10%"></i> 
                <a href="/operacionais.html" style="margin-top: 10%;margin-left: 25%;"> Operacionais</a>
                <br><br>
            </div>
            
            <div class="options">
                <i class="fas fa-hard-hat" style="margin-left: 15%; margin-top: 10%"></i>
                <a href="/parceiros" style="margin-top: 10%;margin-left: 25%;"> Parceiros</a>
                <br><br>
            </div>
            
            <div class="options">
                <i class="fas fa-chart-line" style="margin-left: 15%; margin-top: 10%"></i> 
                <a href="#" style="margin-top: 10%;margin-left: 25%;"> Dashboard </a>
                <br><br>
            </div>
    
            </div>
            
            </div>


        <!--operation register: only autorized workers can acess this page-->
       


        <div class="operacoes" style="position: absolute; display: inline; ">
            <h1 style="font-style: italic;">Registo de Operações</h1> <img src="/_img/Imgs/Sem nome.png" alt="" style="display: inline; width: 60px; height: 30px; position: absolute;">
            
            <form action ="http://3.226.122.100:8080/operations1" method ="POST">
                <!-- about the request in cause-->
                <strong><label for="id_occurrence" style="font-style: italic;"> Lista das Ocorrências </label></strong>
                <hr style="width: 110%;">
                <br>
                <select name="idOccurrence" id="occurrences" style="width: 70px; margin-left:8%; height: 25px;">
                </select>
                <br>
                
<br><br>               
               <strong><label for="id_operationManager" style="font-style: italic;"> Lista dos Gestores de Operação </label></strong>
                <hr style="width: 110%;">
                <br>
                <p for="" style="margin-left: 5%;">Indique o gestor da operação:</p>
                <br><br>
                <select name="idOperation_Manager" id="operation_manager" style="margin-left: 8%; height: 25px; width: 30%">
                </select>
                <br>
            
<br><br>
                <div class="type_op">
                <strong><label for="" style="font-style: italic;"> Tipo de operação </label></strong>
                    <hr style="width: 121%;">
                    <br>
                    <p for="" style="margin-left: 5%;">Selecione o tipo de operação destacada:</p>
                    <br><br>
                        <input type="checkbox" name="Type" value="Fiscalização Alimentar (PNFA)" style="margin-left:8%; margin-right:4%;"> Fiscalização Alimentar (PNFA)
                        <br>
                        <input type="checkbox" name="Type" value="Inspeção" style="margin-left:8%; margin-right:4%;"> Inspeção 
                        <br>
                        <input type="checkbox" name="Type" value="Vigilância" style="margin-left:8%; margin-right:4%;"> Vigilância
                        <br>
                        <input type="checkbox" name="Type" value="Colheita de Amostras (PNCA)" style="margin-left:8%; margin-right:4%;"> Colheita de Amostras (PNCA)
                        <br>
                        <input type="checkbox" name="Type" value="Recolha de Amostras" style="margin-left:8%; margin-right:4%;"> Recolha de Amostras
                        <br>
                        <input type="checkbox" name="Type" value="Anasile de géneros alimentícios colocados no mercado" style="margin-left:8%; margin-right:4%;"> Anasile de géneros alimentícios colocados no mercado
                    <br>
                </div>
                
<br><br>
                <div class="state">
                <strong><label for="" style="font-style: italic;"> Estado da Ocorrência </label></strong>
                    <hr style="width: 110%;">
                    <br>
                    <p for="" style="margin-left:5%">Selecione o estado que se encontra a Ocorrência:</p>
                    <br><br>
                        <input type="checkbox" name="State" value="Ativo" style="margin-left:8%; margin-right:4%;"> Ativo
                        <br>
                        <input type="checkbox" name="State" value="Em resolução" style="margin-left:8%; margin-right:4%;"> Em resolução 
                        <br>
                        <input type="checkbox" name="State" value="Concluido" style="margin-left:8%; margin-right:4%;"> Concluído
                    <br>
                </div>
 
                <div class="buttons1">
                    <br>
                    <br>
                    <button class="btn btn-second">limpar</button> 
                    <button class="btn btn-second" style="margin-left: 5%; display: inline;">submeter</button> 
                </div>
            </div>

            </form>


        </div>
    </div>
             <script type="text/javascript">
            function abrir() {
                var main = document.getElementById("central");
                var iten = main.getElementsByTagName("input");
                
                if (iten) {
                    for (var i=0;i<iten.length;i++) {
                        iten[i].onclick = function() {
                            var el = document.getElementById(this.id.substr(7,7));
                            if (el.style.display == "block")
                                el.style.display = "none";
                            else
                                el.style.display = "block";
                        }
                    }
                }
            };
            
             (async ()=>{
                var strHtml = "";
                var occu = document.getElementById("occurrences")
                const response = await fetch('http://3.226.122.100:8080/occurrences1');
                const occurrences = await response.json();
                console.log(occurrences);

                
                for(const occurrence of occurrences){
                strHtml+= `<option name="idOccurrence" value="${occurrence.idOccurrence}"> ${occurrence.idOccurrence}</option>`
                console.log("occurrence" +occurrence.idOccurrence)
                occu.innerHTML=strHtml;

                }
                
            })();
            
            (async ()=>{
                var strHtml = "";
                var manag = document.getElementById("operation_manager")
                const response = await fetch('http://3.226.122.100:8080/operations_manager1');
                const operations_manager = await response.json();
                
                for(const operation_manager of operations_manager){
                strHtml+= `<option name="idOperation_Manager" value="${operation_manager.idOperation_Manager}"> ${operation_manager.Name}</option>`
                console.log("operation_manager" +operation_manager.idOperation_Manager)
                manag.innerHTML=strHtml;
                }
                
            })();
            
            window.onload=abrir;
            </script>
            
        </body>
        
        