<!DOCTYPE html>
<html>
    <head>
        <link href="https://fonts.googleapis.com/css?family=Work+Sans:400">
        <link rel="stylesheet" href="/style.css" crossorigin="anonymous"></linkrel>
        <link href="/_sidebar.scss" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
        <meta charset="UTF-8">
        <link rel="icon" href="/_img/Imgs/SimboloASAE_personalizado.jpeg.sb-e501c02c-7jNvGZ.png"> 
        <title>
            ASAE | Operacoes
        </title>

    </head>
    <body>
            <div class="lateral_menu" style="position: absolute; height: 260%;">
            <!--Identification of the user who is logged in the system-->
            <div class="identify">
                <img src="/_img/Imgs/1499345621-contact_85338.png" alt="">
                <a href="#" > <h3 style="margin-left: 30%;"> Username logado</h3></a>
                <br>
                <br>
                
                <a href="" style="margin: 5%;"><button class="logoutRevervado" onclick="" style="border: 1px solid #fff; margin-left: 37%; margin-top: 10%;"> <span style="font-size: 12px; text-align: center;padding-left: 2px; "> LogOut </span></button></a> 
            </div>
    
            <!--Options - load new pages-->
            <div class="menuOptions">
                
                <!--go to the page with the list of the request not awnser-->
                <div class="options" style="margin-top: 10%">
                <i class="far fa-clock" style="margin-left: 15%;"></i> 
                <a href="/pedidosPendentes.html" style="margin-top: 5%; margin-left: 25%; margin-bottom: 3%"> Pedidos Pendentes</a>
                <br><br>
            </div>
            
                
                <div class="options" style="margin-top: 10%">
                <i class="fas fa-network-wired" style="margin-left: 15%;"></i> 
                <a href="/registarOperacao.html" style="margin-top: 4%;margin-left: 25%; color: greenyellow; font-size: 22px;" > Gerir Ocorrência</a>
                
                <br><br>
            </div>
                
            <div class="options" style="margin-top: 14%">
                <i class="far fa-address-card" style="margin-left: 15%;"></i>
                <a href="/registarOperacao.html" style="margin-top: 5%;margin-left: 25%; " > Entidades</a>
                
                <br><br>
            </div>
            
            <div class="options" style="margin-top: 14%">
                <i class="fas fa-user-secret" style="margin-left: 15%;"></i>
                <a href="/registarOperacao.html" style="margin-top: 5%;margin-left: 25%; " > Denunciantes</a>
                
                <br><br>
            </div>
            
            
            <div class="options" style="margin-top: 14%">
                <i class="far fa-building" style="margin-left: 15%;"></i> 
                <a href="/centros.html" style="margin-top: 5%;margin-left: 25%;"> Colaboradores</a>
                <br><br>
            </div>
            
            <div class="options" style="margin-top: 14%">
                <i class="far fa-address-book" style="margin-left: 15%;"></i> 
                <a href="/operacionais.html" style="margin-top: 5%;margin-left: 25%;"> Operacionais</a>
                <br><br>
            </div>
            
            <div class="options" style="margin-top: 14%">
                <i class="fas fa-hard-hat" style="margin-left: 15%;"></i> 
                <a href="/parceiros.html" style="margin-top: 5%;margin-left: 25%;"> Parceiros</a>
                <br><br>
            </div>
            
            <div class="options" style="margin-top: 14%">
                <i class="fas fa-chart-line" style="margin-left: 15%;"></i> 
                <a href="#" style="margin-top: 5%;margin-left: 25%;"> Dashboard </a>
                <br><br>
            </div>
    
            </div>
            
            </div>


        <!--operation register: only autorized workers can acess this page-->
       


        <div class="operacoes" style="position: absolute; display: inline; ">
            <h1 style="font-style: italic;">Registo da Operação</h1> <img src="/_img/Imgs/Sem nome.png" alt="" style="display: inline; width: 60px; height: 30px; position: absolute;">
            
            <form action ="http://3.239.88.73:8080/operations1" method ="POST">
                <!-- about the request in cause-->
                <strong><label for="id_occurrence" style="font-style: italic;"> Lista das Ocorrências </label></strong>
                <hr style="width: 110%;">
                <br>
                <select name="idOccurrence" id="occurrences">
                </select>
                
<br><br>               
               <strong><label for="id_operationManager" style="font-style: italic;"> Lista dos Operation Manager </label></strong>
                <hr style="width: 110%;">
                <br>
                <select name="idOperation_Manager" id="managers">
                </select>
            
<br><br>
                <div class="type_op">
                <strong><label for="" style="font-style: italic;"> Tipo de operação </label></strong>
                    <hr style="width: 110%;">
                    <br>
                    <p for="" >Selecione o tipo de operação destacada</p>
                    <br><br>
                        <input type="checkbox" name="Type" value="Fiscalização Alimentar (PNFA)"> Fiscalização Alimentar (PNFA)
                        <br>
                        <input type="checkbox" name="Type" value="Inspeção"> Inspeção 
                        <br>
                        <input type="checkbox" name="Type" value="Vigilância"> Vigilância
                        <br>
                        <input type="checkbox" name="Type" value="Colheita de Amostras (PNCA)"> Colheita de Amostras (PNCA)
                        <br>
                        <input type="checkbox" name="Type" value="Recolha de Amostras"> Recolha de Amostras
                        <br>
                        <input type="checkbox" name="Type" value="Anasile de géneros alimentícios colocados no mercado"> Anasile de géneros alimentícios colocados no mercado
                    <br>
                </div>
                
<br><br>
                <div class="state">
                <strong><label for="" style="font-style: italic;"> Estado da Ocorrência </label></strong>
                    <hr style="width: 110%;">
                    <br>
                    <p for="" >Selecione o estado que se encontra a Ocorrência</p>
                    <br><br>
                        <input type="checkbox" name="State" value="Ativo"> Ativo
                        <br>
                        <input type="checkbox" name="State" value="Em resolução"> Em resolução 
                        <br>
                        <input type="checkbox" name="State" value="Concluido"> Concluido
                    <br>
                </div>
 
                <div class="buttons1">
                    <br>
                    <br>
                    <button class="btn btn-second">limpar</button> 
                    <button class="btn btn-second" style="margin-left: 5%; display: inline;">submeter</button> 
                </div>
            </div>

            </form>


        </div>
    </div>
             <script type="text/javascript">
            function abrir() {
                var main = document.getElementById("central");
                var iten = main.getElementsByTagName("input");
                
                if (iten) {
                    for (var i=0;i<iten.length;i++) {
                        iten[i].onclick = function() {
                            var el = document.getElementById(this.id.substr(7,7));
                            if (el.style.display == "block")
                                el.style.display = "none";
                            else
                                el.style.display = "block";
                        }
                    }
                }
            
            (async ()=>{
                var strHtml = "";
                var occu = document.getElementById("occurrences")
                const response = await fetch('http://3.239.88.73:8080/occurrences1');
                const occurrences = await response.json();
                
                for(const occurrence of occurrences){
                strHtml+= `<option name="idOccurrence" value="${occurrence.idOccurrence}"> ${occurrence.idOccurrence}</option>`
                console.log("Occorrencia" +occurrence.idOccurrence)
                occu.innerHTML=strHtml;
                }
                
            })();
            
            (async ()=>{
                var strHtml = "";
                var manag = document.getElementById("managers")
                const response = await fetch('http://3.239.88.73:8080/operations_manager1');
                const managers = await response.json();
                
                for(const manager of managers){
                strHtml+= `<option name="idOperation_Manager" value="${manager.idOperation_Manager}"> ${manager.Name}</option>`
                console.log("Occorrencia" +manager.idOperation_Manager)
                manag.innerHTML=strHtml;
                }
                
            })();
            };
            window.onload=abrir;
            </script>
            
        </body>
        
        