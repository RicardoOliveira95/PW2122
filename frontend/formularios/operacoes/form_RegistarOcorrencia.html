<!DOCTYPE html>
<html>
    <head>
        <link href="https://fonts.googleapis.com/css?family=Work+Sans:400">
        <link rel="stylesheet" href="/style.css" crossorigin="anonymous"></linkrel>
        <link href="/_sidebar.scss" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
        <meta charset="UTF-8">
        <link rel="icon" href="/_img/Imgs/SimboloASAE_personalizado.jpeg.sb-e501c02c-7jNvGZ.png"> 
        <title>
            ASAE | Ocorrências
        </title>

    </head>
    <body>
<div class="lateral_menu" style="position: absolute; height: 275%;">
            <!--Identification of the user who is logged in the system-->
            <div class="identify">
                <img src="/_img/Imgs/1499345621-contact_85338.png" alt="">
                <a href="#" > <h3 style="margin-left: 30%;"> Username logado</h3></a>
                <br>
                <br>
                <br>
                <a href="" style="margin: 5%;"><button class="logoutRevervado" onclick="" style="border: 1px solid #fff; margin-left: 37%; margin-top: 5%;"> <span style="font-size: 12px; text-align: center;padding-left: 2px; "> LogOut </span></button></a> 
                
            </div>
    
            <!--Options - load new pages-->
            <div class="menuOptions" style="margin-top: 9%">
                
                <!--go to the page with the list of the request not awnser-->
                <div class="options">
                <i class="far fa-clock" style="margin-left: 15%; margin-top: 6%"></i> 
                <a href="/pedidospendentes" style="margin-top: 6%; margin-left: 25%; "> Gestão de Operações</a>
                <br><br>
            </div>
            
                <div class="options">
                <i class="fas fa-network-wired" style="margin-left: 15%; margin-top: 10%"></i> 
                <a href="/registaroperacao" style="margin-top: 10%;margin-left: 25%; margin-bottom: 5% margin-bottom: 2.5%; color: greenyellow; font-size: 19px;" > Gestão de Ocorrências</a>
                <br><br>
            </div> 
            <div class="options">
                <i class="fas fa-toggle-on" style="margin-left: 15%; margin-top: 10%"></i>
                <a href="/pedidospendentes" style="margin-top: 10%; margin-left: 25%; margin-bottom: 3%"> Gestão de Estados</a>
                <br><br>
            </div>
            <div class="options">
                <i class="far fa-address-card" style="margin-left: 15%;margin-top: 10%"></i>
                <a href="/entidades" style="margin-top: 10%;margin-left: 25%;  " > Entidades</a>
                <br><br>
            </div>
            <div class="options">
                <i class="fas fa-user-secret" style="margin-left: 15%; margin-top: 10%"></i>
                <a href="/denunciantes" style="margin-top: 10%;margin-left: 25%; " > Denunciantes</a>
                <br><br>
            </div>
            <div class="options">
                <i class="far fa-building" style="margin-left: 15%; margin-top: 10%"></i> 
                <a href="/colaboradores" style="margin-top: 10%;margin-left: 25%; "> Colaboradores</a>
                <br><br>
            </div>
            
            <div class="options">
                <i class="far fa-address-book" style="margin-left: 15%; margin-top: 10%"></i> 
                <a href="/operacionais.html" style="margin-top: 10%;margin-left: 25%;"> Operacionais</a>
                <br><br>
            </div>
            
            <div class="options">
                <i class="fas fa-hard-hat" style="margin-left: 15%; margin-top: 10%"></i>
                <a href="/parceiros" style="margin-top: 10%;margin-left: 25%;"> Parceiros</a>
                <br><br>
            </div>
            
            <div class="options">
                <i class="fas fa-chart-line" style="margin-left: 15%; margin-top: 10%"></i> 
                <a href="#" style="margin-top: 10%;margin-left: 25%;"> Dashboard </a>
                <br><br>
            </div>
    
            </div>
            
            </div>
        <!--operation register: only autorized workers can acess this page-->
       


        <div class="operacoes" style="position: absolute; display: inline; ">
            <h1 style="font-style: italic;">Registo de Ocorrências</h1> <img src="/_img/Imgs/Sem nome.png" alt="" style="display: inline; width: 60px; height: 30px; position: absolute;">
            
            <form action ="http://3.226.122.100:8080/occurrences1" method ="POST">
                <!-- about the request in cause-->
                <strong><label for="id_request" style="font-style: italic;"> Denuncia Nº</label></strong>
                <hr style="width: 110%;">
                <br>
                <select name="idRequest" id="requests" style="margin-left: 5%; position:absolute" placeholder="Denuncia">
                    
                </select>
                
                <br>
                <strong><label for="id_entity" style="font-style: italic;"> Entidade Denunciada </label></strong>
                <hr style="width: 110%;">
                <br>
                <select name="idEntity" id="entities" style="margin-left: 5%; position:absolute" placeholder="Estabelecimento">
                    
                </select>
                
                <!-- button who gives more information about the id inputed-->
                <!--<button class="mais" style="margin-left: -5%;"> <i class="far fa-plus-square"></i> </button>-->
                
            <br><br><br>  
                <strong><label style="font-style: italic;"> Lista de colaboradores </label></strong>
                    <hr style="width: 110%;">
                    <br>
                    
                    <p for="" style="margin-left:3%">Selecione o(s) colaborador(es):</p>
                    <br> <br>
                     <div class="table-responsiveOcorrencias"  style="overflow: scroll;  width: 180%; height: 150px;"> 
                 <table id="renderColaborators" style="margin-left: 0%; width:900px">
                     </table>
                 </div>
                 
<br><br> 

<div class="urgency">
    <strong><label for="" style="font-style: italic;">Urgência </label></strong>
        <hr style="width: 121%;">
        <!--Urgency of the request-->
        <p style="margin-left:5%"> Grau de urgência </p><select name="idUrgency_Level" id="idUrgency_Level" style="margin-left: -5%;">
            <option value="1">1 - Não Urgente</option>
            <option value="2">2 - Pouco Urgente</option>
            <option value="3">3 - Urgente</option>
            <option value="4">4 - Muito Urgente</option>
            <option value="5">5 - Emergência</option>
          </select>
    </div>
              
             
<br> 
            <div class="parceiros_assoc">
                     <strong><label for="" style="font-style: italic;"> Entidades internas </label></strong>
                     <hr style="width: 121%;">
                     <br>
                     <p style="margin-left:5%">Esta operação conta com a participação de entidades internas?</p>
                     <br>
                     
                     <div id="central">
                        
                           <br>
                         <input type="radio" id="receita2" name="entidade" value="Não" style="margin-left:8%; margin-bottom:1%" >
                         <label for="receita2" style="margin-left:-5%">Não</label>   
                         <br>
                         
                         <input type="radio" id="receita1" name="entidade" value="Sim" style="margin-left:8%" >
                        <label for="receita1" style="margin-left:-5%">Sim</label><br>
                       
                        <!-- opção escondida-->
                      <div id="campos">
                            <br>
                            <label style="margin-left:16%"> Se sim, indique:
                            </label>
                            <select name="idPartner" id="partners">
                            <br>
                          </select>
                        </div>
                    <!-- final opção escondida-->
                     
                       
                        
                     </div>
                     
                     
   </div> 
                          
                   
                   
       <!--          <div class="parceiro_associado">
                    <br>
                <strong><label for="" style="font-style: italic;"> Entidades internas </label></strong>
                    <hr style="width: 121%;">
                    <br>
                    <p for=""> Esta operação conta com a participação de parceiros de entidades internas?</p>
                    <br>
                    
                <div id="central">
                
                  <input type="radio" value="Sim" name="entidade" id="receita1" style="margin-right: 2%;"> Sim
                    <!-- conteudo escondido -->
      <!--             <div id="1" class="escondida"> 
                       <!-- Aqui fica o seu form -->
                        
                        <!-- INICIO DO FORMULÁRIO -->
       <!--          <br>
                        <label style="margin-top: 7px; margin-left: 20px;" for=""> Indique:</label>
                        <br><br>
                        
                        <select name="idPartner" id="partners">
                            <br>
                          </select>
                        
                        <!-- FIM DO FORMULÁRIO -->
         <!--             </div>
                
                
               
                    <!-- Botao -->
    <!--             <br><br>
                  
                    <input type="radio" value="Não" style="margin-right: 2%;" id="receita1"> Não
                
                    <br>
                    <br>
                

                 </div>
                
                </div>-->
             


<br><br><br> 
<div class="operacional_assoc">
    <strong> <label for="" style="font-style: italic;">Operacionais destacados</label> </strong>
     <hr style="width: 132%;">
  
     <div class="table-responsiveOcorrencias"  style="overflow: scroll;  width: 180%; height: 150px;"> 
     <br>
             <table id="renderOperationals" class="tableTable-sm" style="width: 900px">
          <!--  <thead>
            
            <tr class="bg-info1">
                 <tr class="w-2" style="padding-left: 10px; width: 170px; padding-bottom: 20px; "></tr>
                
                 <tr class="w-50" style="padding-left: 10px; width: 4600px; padding-bottom: 20px;"></tr>
                 <tr class="w-50" style="padding-left: 10px; width: 70px; padding-bottom: 20px; "></tr>
                 
                             
            <!-- </tr> 
           </thead>-->

             </table>
     
     </div>  
 </div>
 

               
<br>
                <div class="type_op">
                <strong><label for="" style="font-style: italic;"> Tipo de operação </label></strong>
                    <hr style="width: 131%;">
                    <br>
                    <p for="" style="margin-left:5%">Selecione o tipo de operação correspondente à denuncia</p>
                    <br><br>
                    <div class="tips" style="margin-left:6%">
                        <input type="checkbox" name="Type" value="Fiscalização Alimentar (PNFA)" style="margin-left:5%; margin-right:4%;"> Fiscalização Alimentar (PNFA)
                        <br>
                        <input type="checkbox" name="Type" value="Inspeção" style="margin-left:5%; margin-right:4%;"> Inspeção 
                        <br>
                        <input type="checkbox" name="Type" value="Vigilância" style="margin-left:5%; margin-right:4%;"> Vigilância
                        <br>
                        <input type="checkbox" name="Type" value="Colheita de Amostras (PNCA)" style="margin-left:5%; margin-right:4%;"> Colheita de Amostras (PNCA)
                        <br>
                        <input type="checkbox" name="Type" value="Recolha de Amostras" style="margin-left:5%; margin-right:4%;"> Recolha de Amostras
                        <br>
                        <input type="checkbox" name="Type" value="Anasile de géneros alimentícios colocados no mercado" style="margin-left:5%; margin-right:4%;"> Anasile de géneros alimentícios colocados no mercado
                    <br></div>


                </div>

                <br><br><br>
                <div class="material">
                <strong><label for="" style="font-style: italic;"> Materiais </label></strong>
                    <hr style="width: 131%;">
                    <br>
                    <div class="table-responsiveOcorrencias"  style="overflow: scroll;  width: 180%; height: 175px;"> 
                    
                        <table id="renderMaterials" class="tableTable-sm" style="width: 900px">
                    <!--  <thead>
                       
                        <tr class="bg-info1">
                            <th class="w-2" style="padding-left: 10px; width: 250px; padding-bottom: 20px; "></th>
                            <th class="w-2" style="padding-left: 10px; width: 4600px; padding-bottom: 20px;"></th>
                            <th class="w-2" style="padding-left: 10px; width: 70px; padding-bottom: 20px;"></th>
                            
                                        
                        </tr> 
                      </thead>-->
                        </table>
                    </div>
                    <div class="materialAnc" style=" width: 300px; margin-left: 80%;">
                    <a href="http://3.226.122.100:8080/gerirmaterial" target="_blank"> Verificar disponibilidade dos materiais </a>
                    
                </div>
                </div>  
                
<br><br>
                <div class="state">
                <strong><label for="" style="font-style: italic;"> Estado da Denuncia </label></strong>
                    <hr style="width: 131%;">
                    <br>
                    <p for="" style="margin-left:5%">Selecione a classificação da denuncia</p>
                    <br><br>
                        <input type="checkbox" name="State" value="Em analise" style="margin-left:8%; margin-right:4%;"> Reportado
                        <br>
                        <input type="checkbox" name="State" value="Confirmado" style="margin-left:8%; margin-right:4%;"> Confirmado
                        <br>
                        <input type="checkbox" name="State" value="Rejeitado" style="margin-left:8%; margin-right:4%;"> Rejeitado
                    <br>


                </div>
               

                <div class="buttons1">
                    <br>
                    <br>
                    <button class="btn btn-second">limpar</button> 
                    <button class="btn btn-second" style="margin-left: 5%; display: inline;">submeter</button> 
                </div>
            </div>

            </form>


        </div>
    </div>
             <script type="text/javascript">
            function abrir() {
                var main = document.getElementById("central");
                var iten = main.getElementsByTagName("input");
                
                if (iten) {
                    for (var i=0;i<iten.length;i++) {
                        iten[i].onclick = function() {
                            var el = document.getElementById(this.id.substr(7,7));
                            if (el.style.display == "block")
                                el.style.display = "none";
                            else
                                el.style.display = "block";
                        }
                    }
                }
                
                (async ()=>{
                var strHtml = "";
                var req = document.getElementById("requests")
                const response = await fetch('http://3.226.122.100:8080/requests1');
                const requests = await response.json();
                
                for(const request of requests){
                strHtml+= `<option name="idRequest" value="${request.idRequest}"> ${request.idRequest}</option>`
                console.log("request" +request.idRequest)
                req.innerHTML=strHtml;
                }
                
            })();
                
                (async ()=>{
                var strHtml = "";
                var ents = document.getElementById("entities")
                const response = await fetch('http://3.226.122.100:8080/entities1');
                const entities = await response.json();
                
                for(const entity of entities){
                strHtml+= `<option name="idEntity" value="${entity.idEntity}"> ${entity.NameEntity}</option>`
                console.log("entity" +entity.idEntity)
                ents.innerHTML=strHtml;
                }
                
            })();
            
            (async ()=>{
                var strHtml = "";
                var collabs = document.getElementById("renderColaborators")
                const response = await fetch('http://3.226.122.100:8080/colaborators1');
                const colaborators = await response.json();
                
                for(const colaborator of colaborators){
                strHtml+= `<tr>
                    <td>
                    <input type="checkbox" name="idColaborator" id="${colaborator.idColaborator}" value="${colaborator.idColaborator}"> ${colaborator.Name}
                    </td>
                    <td>
                    <span style="margin-left: 0%;">${colaborator.idColaborator}</span>
                    </td>
                    </tr>
                    <br>`
                console.log("colaborador" +colaborator.idColaborator);
                collabs.innerHTML=strHtml;
                }
                
            })();
            
                (async ()=>{
                var strHtml = "";
                var parts = document.getElementById("partners")
                const response = await fetch('http://3.226.122.100:8080/partners1');
                const partners = await response.json();
                
                for(const partner of partners){
                strHtml+= `<option name="idPartner" id="${partner.idPartner}" value="${partner.idPartner}"> ${partner.Name}</option>`
                console.log("Partner" +partner.idPartner);
                parts.innerHTML=strHtml;
                }
                
            })();
            
            (async ()=>{
                var strHtml = "";
                var opera = document.getElementById("renderOperationals")
                const response = await fetch('http://3.226.122.100:8080/operationals1');
                const operationals = await response.json();
                
                for(const operational of operationals){
                
                strHtml+= `
                
              <tr>
              
                    <td> 
                    <input type="checkbox" name="idOperational" id="${operational.idOperational}" value="${operational.idOperational}>
                    </td>
                    
                    <td name="idOperational" id="${operational.idOperational}" value="${operational.idOperational}">${operational.idOperational}
                    </td>
                   
                   <td style="padding-left: 10px;" name="idOperational">${operational.Name}
                   </td>
                   
                   
             </tr>      
            `
                
                console.log("operational" + operational.idOperational);
                opera.innerHTML=strHtml;
                
                }
            })();
            
            (async ()=>{
                var strHtml = "";
                var mats = document.getElementById("renderMaterials")
                const response = await fetch('http://3.226.122.100:8080/materials1');
                const materials = await response.json();
                
                for(const material of materials){
                
                strHtml+= `<tr>
                
                <td> <input type="checkbox" name="idMaterial" value="${material.idMaterial}></td>
                <td style="margin-rigth: 4%">${material.Name}</td>
                   
                   
                   
               </tr>`
                console.log("material" +material.idMaterial);
                mats.innerHTML=strHtml;
                }
            })();
            };
            window.onload=abrir;
            </script>
            
        </body>
        
        