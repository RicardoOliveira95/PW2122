{"filter":false,"title":"denunciante.html","tooltip":"/backend/frontend/Projeto/denunciante.html","undoManager":{"mark":19,"position":19,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["h"],"id":1},{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["t"]},{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["m"]}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":3},"action":"remove","lines":["htm"],"id":2},{"start":{"row":0,"column":0},"end":{"row":3,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html>","    ","</html>"]}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":5},"action":"insert","lines":["h"],"id":3},{"start":{"row":2,"column":5},"end":{"row":2,"column":6},"action":"insert","lines":["e"]}],[{"start":{"row":2,"column":4},"end":{"row":2,"column":6},"action":"remove","lines":["he"],"id":4},{"start":{"row":2,"column":4},"end":{"row":4,"column":11},"action":"insert","lines":["<head>","        ","    </head>"]}],[{"start":{"row":3,"column":8},"end":{"row":8,"column":28},"action":"insert","lines":["<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css\" integrity=\"sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO\"","    crossorigin=\"anonymous\">","","  <!-- Custom fonts for this template -->","  <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.2.0/css/all.css\" integrity=\"sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ\"","    crossorigin=\"anonymous\">"],"id":5}],[{"start":{"row":2,"column":10},"end":{"row":3,"column":8},"action":"insert","lines":["","        "],"id":6}],[{"start":{"row":3,"column":4},"end":{"row":3,"column":8},"action":"remove","lines":["    "],"id":7},{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"remove","lines":["    "]},{"start":{"row":2,"column":10},"end":{"row":3,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":9,"column":11},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":10,"column":0},"end":{"row":10,"column":4},"action":"insert","lines":["    "]},{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"insert","lines":["b"]},{"start":{"row":10,"column":5},"end":{"row":10,"column":6},"action":"insert","lines":["o"]}],[{"start":{"row":10,"column":4},"end":{"row":10,"column":6},"action":"remove","lines":["bo"],"id":9},{"start":{"row":10,"column":4},"end":{"row":12,"column":11},"action":"insert","lines":["<body>","        ","    </body>"]}],[{"start":{"row":11,"column":8},"end":{"row":78,"column":112},"action":"insert","lines":["<script type=\"text/javascript\">","\twindow.onload=()=>{","const tblAccusers = document.getElementById(\"tblAccusers\")","//GET","const renderAccusers = async () => {","        let strHtml = `","            <thead>","                <tr><th class='w-100 text-center bg-warning' colspan='4'>Lista de Pedidos</th></tr>","                <tr class='bg-info'>","                    <th class='w-2'>#</th>","                    <th class='w-50'>Nome</th>","                    <th class='w-50'>Username</th>","                    <th class='w-38'>E-mail</th>              ","                    <th class='w-10'>Password</th>","                    <th class='w-60'>Morada</th>              ","                </tr> ","            </thead><tbody>","        `","        const response = await fetch('http://3.235.187.101:8080/denunciantes')","        const accusers = await response.json()","        let i = 1","        for (const accuser of accusers) {            ","            strHtml += `<tr>","                    <td>${accuser.idPartner}</td>","                    <td>${accuser.Name}</td>","                    <td>${accuser.Username}</td>","                    <td>${accuser.Email}</td>","                    <td>${accuser.Password}</td>","                    <td>${accuser.Address}</td>","                    <td><i id='${accuser.idAccuser}' class='fas fa-trash-alt remove'></i></td>","                </tr>`        ","            i++","        }","        strHtml += \"</tbody>\"","        tblAccusers.innerHTML = strHtml","        //DELETE","        const btnDelete = document.getElementsByClassName(\"remove\")","        for (let i = 0; i < btnDelete.length; i++) {","            btnDelete[i].addEventListener(\"click\", () => {","                swal({","                    title: 'Tem a certeza?',","                    text: \"Nao sera possivel reverter a remocao!\",","                    type: 'warning',","                    showCancelButton: true,","                    confirmButtonColor: '#3085d6',","                    cancelButtonColor: '#d33',","                    cancelButtonText: 'Cancelar',","                    confirmButtonText: 'Remover'","                  }).then( async (result) => {","                    if (result.value) {                        ","                        let idAccuser = btnDelete[i].getAttribute(\"id\")","                        try {","                            const response = await fetch(`http://3.235.187.101:8080/denunciantes/${idAccuser}`, { method: \"DELETE\"})","                            const accusers = await response.json()                            ","                            swal('Removido!','O denunciante foi removido da tabela.','success')","                            renderAccusers()","                        } catch(err) {","                            swal({type: 'error', title: 'Erro', text: err})","                        }","                    } ","                  })","            })","        }","        }","        renderAccusers()","    }","</script>","<script src=\"https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.26.9/sweetalert2.all.min.js\"></script>"],"id":10}],[{"start":{"row":10,"column":10},"end":{"row":11,"column":8},"action":"insert","lines":["","        "],"id":11}],[{"start":{"row":11,"column":8},"end":{"row":12,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":12,"column":0},"end":{"row":12,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":12,"column":8},"end":{"row":18,"column":6},"action":"insert","lines":["<div id=\"divPartners\" class=\"container\">","            <!-- Table -->","            <div class=\"table-responsive\">","              <table id=\"tblPartners\" class=\"table table-sm\">","              </table>","            </div>","</div>"],"id":13}],[{"start":{"row":18,"column":6},"end":{"row":19,"column":0},"action":"insert","lines":["",""],"id":14}],[{"start":{"row":12,"column":17},"end":{"row":12,"column":28},"action":"remove","lines":["divPartners"],"id":15},{"start":{"row":12,"column":17},"end":{"row":12,"column":18},"action":"insert","lines":["d"]},{"start":{"row":12,"column":18},"end":{"row":12,"column":19},"action":"insert","lines":["i"]},{"start":{"row":12,"column":19},"end":{"row":12,"column":20},"action":"insert","lines":["v"]},{"start":{"row":12,"column":20},"end":{"row":12,"column":21},"action":"insert","lines":["A"]}],[{"start":{"row":12,"column":21},"end":{"row":12,"column":22},"action":"insert","lines":["c"],"id":16},{"start":{"row":12,"column":22},"end":{"row":12,"column":23},"action":"insert","lines":["c"]},{"start":{"row":12,"column":23},"end":{"row":12,"column":24},"action":"insert","lines":["i"]}],[{"start":{"row":12,"column":23},"end":{"row":12,"column":24},"action":"remove","lines":["i"],"id":17}],[{"start":{"row":12,"column":23},"end":{"row":12,"column":24},"action":"insert","lines":["u"],"id":18},{"start":{"row":12,"column":24},"end":{"row":12,"column":25},"action":"insert","lines":["s"]},{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"insert","lines":["e"]},{"start":{"row":12,"column":26},"end":{"row":12,"column":27},"action":"insert","lines":["r"]},{"start":{"row":12,"column":27},"end":{"row":12,"column":28},"action":"insert","lines":["s"]}],[{"start":{"row":15,"column":25},"end":{"row":15,"column":36},"action":"remove","lines":["tblPartners"],"id":19},{"start":{"row":15,"column":25},"end":{"row":15,"column":26},"action":"insert","lines":["t"]},{"start":{"row":15,"column":26},"end":{"row":15,"column":27},"action":"insert","lines":["b"]},{"start":{"row":15,"column":27},"end":{"row":15,"column":28},"action":"insert","lines":["l"]}],[{"start":{"row":15,"column":25},"end":{"row":15,"column":28},"action":"remove","lines":["tbl"],"id":20},{"start":{"row":15,"column":25},"end":{"row":15,"column":36},"action":"insert","lines":["tblAccusers"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":15,"column":36},"end":{"row":15,"column":36},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1608133425690,"hash":"cfc1b6905ea02e1e89a74f2d3f6cffd91de237bf"}